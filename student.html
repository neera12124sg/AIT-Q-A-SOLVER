<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>MIT AOE Solver</title> 
  <link rel="stylesheet" href="style.css">
  <style>
    /* Sidebar Styling */
    #sidebar {
      background-color: #111;
      color: white;
      position: fixed;
      top: 0;
      left: 0;
      width: 180px;
      height: 100%;
      padding-top: 60px;
    }

    #sidebar ul {
      list-style: none;
      padding: 0;
    }

    #sidebar ul li {
      margin: 20px 0;
      text-align: center;
    }

    #sidebar ul li a {
      color: white;
      text-decoration: none;
      font-weight: bold;
    }

    #sidebar ul li a:hover {
      color: #00bfff;
    }

    /* General Page Styling */
    body {
      margin: 0;
      padding-left: 180px;
      font-family: Arial, sans-serif;
    }

    section {
      padding: 20px;
    }

    /* Styling for Chat Section */
    #chatWidget {
      display: none; /* Initially hide the widget */
      margin-top: 20px; /* Add some space for better layout */
    }
  </style>
</head>
<body>
  <!-- Sidebar -->
  <nav id="sidebar">
    <ul>
      <li><a href="#" onclick="showSection('askDoubtSection')">Ask Doubt</a></li>
      <li><a href="#" onclick="showSection('getAnswerAISection')">Get Answer by AI</a></li>
      <li><a href="#" onclick="showSection('contactSection')">Contact</a></li>
      <li><a href="#" onclick="showSection('answerSheetSection')">Answer Sheet</a></li>
      <li><a href="#" onclick="toggleChatWidget()">Student Community</a></li> <!-- New tab for chat -->
    </ul>
  </nav>

  <!-- Main Content Area -->
  <header>MIT AOE Solver</header>

  <!-- Ask Doubt Section -->
  <section id="askDoubtSection">
    <button id="askDoubtBtn" onclick="toggleSubjects()">ASK DOUBT</button>
    <div id="subjectList" style="display: none;">
      <button onclick="openForm('Physics')">Physics</button>
      <button onclick="openForm('Chemistry')">Chemistry</button>
      <button onclick="openForm('Electronics')">Electronics</button>
      <button onclick="openForm('Mechanics')">Mechanics</button>
    </div>
  </section>

  <!-- Get Answer by AI Section -->
  <section id="getAnswerAISection" style="display: none;">
    <h2>Get Answer by AI</h2>
    <div>
      <label for="questionInput">Enter your question:</label>
      <textarea id="questionInput" rows="4" cols="50"></textarea>
      <button onclick="generateAIAnswer()">Get AI Answer</button>
    </div>
    <div id="aiAnswerSection" style="display: none;">
      <h3>AI Answer:</h3>
      <p id="aiAnswerText"></p>
    </div>
  </section>

  <!-- Answer Sheet Section -->
  <section id="answerSheetSection" style="display: none;">
    <h2>View Answer Sheet</h2>
    <div style="overflow-x: auto;">
      <iframe 
        src="https://docs.google.com/spreadsheets/d/e/2PACX-1vTQ3JbzCiz0a4uD72QH6CJSJ27EvWj_OS2IFsuO5xkPxruYNHzpBT55c8HpkD7sZjXIhGz3ccrtIvKz/pubhtml?gid=245796099&single=true" 
        width="1200" 
        height="600">
      </iframe>
    </div>
  </section>

  <!-- Contact Section -->
  <section id="contactSection" style="display: none;">
    <h3>Contact Support</h3>
    <form action="https://formspree.io/f/xpwpynak" method="POST">
      <input type="email" name="email" placeholder="Your Email" required />
      <textarea name="message" placeholder="Your Comment" required></textarea>
      <button type="submit">Send</button>
    </form>
    <p class="social-links">
      <a href="https://twitter.com/Neeraj_chopra1" target="_blank">üê¶ Twitter</a> |
      <a href="https://discord.com" target="_blank">üí¨ Discord</a> |
      <a href="https://reddit.com" target="_blank">üë• Reddit</a>
    </p>
  </section>

  <!-- Chat Widget Section -->
  <section id="chatWidget">
    <!-- Tawk.to Chat Widget inside "Student Community" tab -->
    <script type="text/javascript">
      var Tawk_API=Tawk_API||{}, Tawk_LoadStart=new Date();
      (function(){
        var s1=document.createElement("script"),s0=document.getElementsByTagName("script")[0];
        s1.async=true;
        s1.src='https://embed.tawk.to/67f6f34f341807190ee14dce/1ioeacshp';
        s1.charset='UTF-8';
        s1.setAttribute('crossorigin','*');
        s0.parentNode.insertBefore(s1,s0);
      })();
    </script>
  </section>

  <script>
    // Toggle function for showing chat widget
    function toggleChatWidget() {
      const chatSection = document.getElementById('chatWidget');
      // Toggle the visibility of the chat widget
      chatSection.style.display = chatSection.style.display === 'none' ? 'block' : 'none';
      // Hide all other sections when chat is shown
      document.querySelectorAll('section').forEach(sec => sec.style.display = 'none');
    }

    function toggleSubjects() {
      const list = document.getElementById('subjectList');
      list.style.display = list.style.display === 'none' ? 'block' : 'none';
    }

    function openForm(subject) {
      const formLinks = {
        Physics: "https://docs.google.com/forms/d/e/1FAIpQLSf2lnKx8x_1EqR47itMrHnqBfK_ML1xA-GhQqDF-c_CrtDlLw/viewform?usp=pp_url&entry.1234567890=Physics",
        Chemistry: "https://docs.google.com/forms/d/e/1FAIpQLSf2lnKx8x_1EqR47itMrHnqBfK_ML1xA-GhQqDF-c_CrtDlLw/viewform?usp=pp_url&entry.1234567890=Chemistry",
        Electronics: "https://docs.google.com/forms/d/e/1FAIpQLSf2lnKx8x_1EqR47itMrHnqBfK_ML1xA-GhQqDF-c_CrtDlLw/viewform?usp=pp_url&entry.1234567890=Electronics",
        Mechanics: "https://docs.google.com/forms/d/e/1FAIpQLSf2lnKx8x_1EqR47itMrHnqBfK_ML1xA-GhQqDF-c_CrtDlLw/viewform?usp=pp_url&entry.1234567890=Mechanics"
      };

      const url = formLinks[subject];
      if (url) {
        window.open(url, '_blank');
      } else {
        alert('No form found for this subject');
      }
    }

    function showSection(id) {
      document.querySelectorAll('section').forEach(sec => sec.style.display = 'none');
      document.getElementById(id).style.display = 'block';
      document.getElementById('subjectList').style.display = 'none';
      // Ensure chat is hidden when switching sections
      document.getElementById('chatWidget').style.display = 'none';
    }

    // Predefined AI answers for questions
    const predefinedAnswers = {
      "what is 3rd law of motion?": "Newton's third law of motion states that for every action, there is an equal and opposite reaction.",
      "what is 1st law of motion?": "Newton's first law of motion states that an object at rest will stay at rest, and an object in motion will stay in motion unless acted upon by an external force.",
      "what is ions?": "Ions are charged particles formed when an atom or molecule gains or loses one or more electrons.",
      "write 5 chemical compounds": "1. Water (H2O) 2. Sodium Chloride (NaCl) 3. Carbon Dioxide (CO2) 4. Ammonia (NH3) 5. Sulfuric Acid (H2SO4)",
      "use of applied mechanics": "Applied mechanics is used in designing machines, analyzing forces in structural engineering, vehicle dynamics, and biomechanics.",
      "write some electronic components": "Some electronic components include Resistors, Capacitors, Diodes, Transistors, and Inductors."
    };

    // Placeholder for AI Answer Section (no API call)
    function generateAIAnswer() {
      const question = document.getElementById('questionInput').value.trim().toLowerCase();
      if (!question) {
        alert("Please enter your question.");
        return;
      }

      // Check if the question has a predefined answer
      const answer = predefinedAnswers[question] || "AI couldn't find a predefined answer for this question. Please try again with another question.";
      
      document.getElementById('aiAnswerText').textContent = answer;
      document.getElementById('aiAnswerSection').style.display = 'block';
    }
  </script>
</body>
</html>
